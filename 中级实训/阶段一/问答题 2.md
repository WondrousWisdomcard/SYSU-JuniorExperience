# Stage 1 - 回答问题 2

**19335286 郑有为**

By clicking on a cell containing a bug, flower, or rock, do the following.

1. Test the setDirection method with the following inputs and complete the table, giving the compass direction each input represents.
   
   | Degrees | Compass Direction |
   | :-----: | :---------------: |
   |    0    |       NORTH       |
   |   45    |     NORTHEAST     |
   |   90    |       EAST        |
   |   135   |     SOUTHEAST     |
   |   180   |       SOUTH       |
   |   225   |     SOUTHWEST     |
   |   270   |       WEST        |
   |   315   |     NORTHWEST     |
   |   360   |       NORTH       |
   
   ```java
   // @file: info/gridworld/grid/Location.java
   // @line: 62-93
   /**
    * The compass direction for north.
    */
   public static final int NORTH = 0;
   /**
    * The compass direction for northeast.
    */
   public static final int NORTHEAST = 45;
   /**
    * The compass direction for east.
    */
   public static final int EAST = 90;
   /**
    * The compass direction for southeast.
    */
   public static final int SOUTHEAST = 135;
   /**
    * The compass direction for south.
    */
   public static final int SOUTH = 180;
   /**
    * The compass direction for southwest.
    */
   public static final int SOUTHWEST = 225;
   /**
    * The compass direction for west.
    */
   public static final int WEST = 270;
   /**
    * The compass direction for northwest.
    */
   public static final int NORTHWEST = 315;
   
   // @file: info/gridworld/actor/Actor.java
   // @line: 82
   direction = newDirection % Location.FULL_CIRCLE;
   ```
2. Move a bug to a different location using the moveTo method. In which directions can you move it? How far can you move it? What happens if you try to move the bug outside the grid?
   
   * 回答：
     
     * 对于使用`moveTo`方法，可以将Bug移动到任意一个表格中的位置，如果这个原本被其他Actor占有，则会销毁这个Actor。
       
       ```java
       // @file: info/gridworld/actor/Actor.java
       // @line: 170-172
       Actor other = grid.get(newLocation);
       if (other != null)
           other.removeSelfFromGrid();
       ```
     * 移动的方向是任意的，移动不会修改Bug当前的方向。Bug可以移动到表格中任意一个位置，当试图移动到表格外时，程序会报错。
       
       ```java
       // @file: info/gridworld/actor/Actor.java
       // @line: 163-165
       if (!grid.isValid(newLocation))
           throw new IllegalArgumentException("Location " + newLocation + " is not valid.");
       ```
     * 程序报错：
       
       ![file](/api/users/image?path=8506/images/1634822648541.png)
3. Change the color of a bug, a flower, and a rock. Which method did you use?
   
   * 回答：使用Actor类的`setColor()`方法。
     
     ```java
     // @file: info/gridworld/actor/Actor.java
     // @line: 60-63
     public void setColor(Color newColor)
     {
         color = newColor;
     }
     ```
4. Move a rock on top of a bug and then move the rock again. What happened to the bug?
   
   * 回答：Rock正常移动到Bug位置上，覆盖Bug，再将Rock移动到另一个位置，此时Bug原来所在的位置为空，没有看到Bug。
     
     * 原因是在`moveTo`方法的逻辑中，被覆盖Actor会从网格中删除
       
       ```java
       // @file: info/gridworld/actor/Actor.java
       // @line: 170-172
       Actor other = grid.get(newLocation);
       if (other != null)
           other.removeSelfFromGrid();
       ```