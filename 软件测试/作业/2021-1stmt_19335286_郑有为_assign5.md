<center><h1>
    软件测试第五次作业
    </h1></cenetr>

<center><b>郑有为 19335286</b></center>

[toc]

## **问题**

计算下列代码片段的 Halstead 复杂度的11项内容：

``` c
if (month < 3) {
    month = month + 12;
    year = year - 1;
}
return dayray((int)(day + (month + 1) * 26/10 + year +
		year / 4 + 6 * (year/100) + year / 400) % 7);  
```

## **回答**

* Halstead 复杂度根据程序源代码中语句行的操作符和操作数的数量计算程序复杂性。
  * 程序源代码中操作符和操作数的量越大，程序难度就越大。
  * **操作符**统计范围通常包括**语言保留字**、**函数调用**、**运算符**，也可以包括有关的**分隔符**（在C语言中，分隔符有括号、花括号、逗号、空白符、分号和冒号）等。
  * **操作数**统计范围可以是**常量**和**变量**等标识符。
* **注：在以下的计算中，我们不考虑任何分隔符，即在操作符的统计时忽略分隔符** 。

---

**首先计算 Halstead 复杂度度量：** 

1. 程序中不同的操作符的个数：$n_1 = 11$，它们分别是：

   * 语言保留字：`if`、`return`、`int`；

   * 函数调用：`dayray`；

   * 运算符：`<`、`=`、`+`、`-`、`*`、`/`、`%`。

2. 程序中不同操作数的个数：$n_2 = 13$ ，它们分别是：

   * 常量：`3`、`12`、`1`、`26`、`10`、`4`、`6`、`100`、`400`、`7`；

   * 变量：`month`、`year`、`day`。

3. 程序中出现的操作符总数：$N_1 = 21$;
4. 程序中出现的操作数总数：$N_2 = 22$;

**以下是 Halstead 复杂度的11项内容计算结果：**

1. 程序词汇表总长度：         $n = n_1 + n_2 = 24$；
2. 程序长度：                        $N = N_1 + N_2 = 43$；
3. 程序的预测长度：            $N^{\wedge} = n_1\log_2n_1 + n_2\log_2n_2 \approx 83$；
4. 程序的体积：                    $V = N\log_2(n) \approx 211$；
5. 程序的级别：                    $L^{\wedge} = (2/n_1) \times (n_2 / N_2) \approx 0.107$；
6. 程序的难度：                    $D = 1/L^{\wedge} \approx 9.308$
7. 编程工作量：                    $E = V \times D \approx 1964$；
8. 语言级别：                        $L' = L^{\wedge} \times L^{\wedge} \times V \approx 2.4$
9. 编程时间：                        $T^{\wedge} = E / (S \times f) \approx 0.03$（这里$S = 60 \times 60, f = 18$）；
10. 平均语句大小：                $N/\text{语句数} = 10.75$（这里语句数为4，即代码第1、2、3、5行）
11. 程序中错误数预测值：    $B = V / 3000 \approx 0.07$。

---

